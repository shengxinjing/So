# 前端面试集锦（二）

## Event事件机制

### 事件模型（职责链 + pub/sub）

三个阶段（按照DOM树传递事件），订阅者/发布者模式。

### 事件对象

事件对象向用户提供了必要的用户输入信息，开发者根据这些用户信息来控制程序的逻辑走向。

```
// 事件所处阶段
e.eventPhase

Event.prototype 
    CAPTURING_PHASE : 1
    AT_TARGET       : 2
    BUBBLING_PHASE  : 3

// 事件类型    
e.type

// 当前DOM节点
e.currentTarget    OR   this

// 事件源DOM节点
e.target

// 更多信息可参见相关文档或规范定义
```


### 事件扩散控制

 1. e.stopPropagation()             阻止事件在职责链扩散     
 2. e.stopImmediatePropagation()    结束后续的事件处理函数执行且阻止事件在职责链中的扩散

一般来说，很少调用这两个函数。因为，一旦事件停止了扩散，父级节点就无法感知到这个事件，因此在程序上会出现`失察`问题。可以权衡使用的方式是，在事件对象 event 上增加自定义属性，由此来控制程序的走向。
 
### 默认行为

阻止默认行为 e.preventDefault()。
 
从测试效果看，可理解为，对应触发事件后，默认行为 function() { //dosomething} 立刻进入到 event loop 队列中，而 preventDefault 函数的调用是将该默认行为在队列中置灰，即`function(){}`。

查询对应事件的默认行为，可以参阅相关规范或开发文档。

此概念也常用于Javascript编程中。经典的例子 ，dialog 对话框在关闭前触发一个 beforeClose 事件，其默认行为即关闭对话框。 但是当事件处理函数返回 false时，阻止默认的对话框关闭行为。

### jquery的事件实现

 1. 事件的手动派发(派发该元素上的事件)
 2. 事件对象的二次封装
 3. 事件委托的模拟
 4. 非冒泡事件的冒泡化（职责链派发）
 5. 高阶事件（特殊事件）

## 性能优化系统

### 性能监控

 1. 监控方式（侵入式和非侵入式）
 2. 监控粒度（关键时刻点）
 3. 数据汇报
 4. 产生图表
 5. 基础服务化

### 数据分析

 1. 分析性能优化效果 与 性能瓶颈

### 方案调研和优化

 1. 确认性能瓶颈，调研解决方案
 2. 代码开发与上线

### 数据反馈

### 流程化

### 性能优化建议

 1. CDN接入，提升**请求并发**能力（网络延时高时有较好效果）
 2. 降低资源冗余度，**按需加载**
 3. 合理的版本管理，提升**缓存**命中率
 4. 合理的请求合并（或资源嵌入），**降低请求数**
 5. 延迟加载（考虑竞争状态），**核心任务优先**原则
 6. **提前处理**（DNS预解析，图片预加载，js预加载）
 7. HTTP长连接，**避免重复握手**

## Javascript模块化编程

### CommonJS 

本地Javascript模块化规范

### AMD

浏览器端Javascript模块化规范

### requirejs
基于AMD的实现

### seajs
基于CMD的实现

## 前端架构

### js模块化框架

可选方案：

 * require
 * seajs
 * ......

### js基础库 及 扩展

### normalize CSS & util CSS

### CSS预处理语言 和 公共 mixin

### 开发组件化

### 代码文档化

### 项目构建和部署

### 单元测试

## FIS2核心功能

### pipe

文件的 pipe 处理，提供file API接口，所有对文件的操作都通过统一接口进行。

### map.json 和 三种能力

资源统一管理能力

### 自动性能优化

### 组件化开发

### 优秀的版本控制